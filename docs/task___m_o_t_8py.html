<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ROMI Search &amp; Rescue: task_MOT.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ROMI Search &amp; Rescue
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">task_MOT.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file implement a task that control ROMI motor base on input share from different task.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtask___m_o_t_1_1_motor_task.html">task_MOT.MotorTask</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This file implement a task that control ROMI motor base on input share from different task.  <a href="classtask___m_o_t_1_1_motor_task.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa7c91617139c610c6790ac53b66047bc" id="r_aa7c91617139c610c6790ac53b66047bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task___m_o_t_8py.html#aa7c91617139c610c6790ac53b66047bc">task_MOT.check_sensor</a> (L2, L1, M, R1, R2, H)</td></tr>
<tr class="memdesc:aa7c91617139c610c6790ac53b66047bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the status from 6 line sensors determine what case for ROMI.  <br /></td></tr>
<tr class="separator:aa7c91617139c610c6790ac53b66047bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a8b15d78f96f6eae57256cd59e4acf" id="r_a72a8b15d78f96f6eae57256cd59e4acf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task___m_o_t_8py.html#a72a8b15d78f96f6eae57256cd59e4acf">task_MOT.update_speed</a> (case)</td></tr>
<tr class="memdesc:a72a8b15d78f96f6eae57256cd59e4acf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read input case, then decide ROMI yaw rate and linear speed then run <a class="el" href="task___m_o_t_8py.html#aab03b2231c80d5bc00b333ed76e292ba" title="Take the require yaw rate and linear speed then calculate angular speeds for both left and right whee...">DC_speed_cal()</a> function below to find angular speeds of both wheels For the scope of this project, ROMI will have only 19 case including:  <br /></td></tr>
<tr class="separator:a72a8b15d78f96f6eae57256cd59e4acf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab03b2231c80d5bc00b333ed76e292ba" id="r_aab03b2231c80d5bc00b333ed76e292ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task___m_o_t_8py.html#aab03b2231c80d5bc00b333ed76e292ba">task_MOT.DC_speed_cal</a> (y, v)</td></tr>
<tr class="memdesc:aab03b2231c80d5bc00b333ed76e292ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take the require yaw rate and linear speed then calculate angular speeds for both left and right wheels.  <br /></td></tr>
<tr class="separator:aab03b2231c80d5bc00b333ed76e292ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8d68e594b6adea35eb67bbecb6c050" id="r_a9c8d68e594b6adea35eb67bbecb6c050"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="task___m_o_t_8py.html#a9c8d68e594b6adea35eb67bbecb6c050">task_MOT.check_return</a> (X, Y, state)</td></tr>
<tr class="memdesc:a9c8d68e594b6adea35eb67bbecb6c050"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take the X and Y coordinate of ROMI location determine the output state for returning purpose.  <br /></td></tr>
<tr class="separator:a9c8d68e594b6adea35eb67bbecb6c050"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file implement a task that control ROMI motor base on input share from different task. </p>
<dl class="section author"><dt>Author</dt><dd>Vinh Vo </dd>
<dd>
Quinn Stephens </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-Dec-11 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a9c8d68e594b6adea35eb67bbecb6c050" name="a9c8d68e594b6adea35eb67bbecb6c050"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c8d68e594b6adea35eb67bbecb6c050">&#9670;&#160;</a></span>check_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">task_MOT.check_return </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take the X and Y coordinate of ROMI location determine the output state for returning purpose. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">X</td><td>(float): X global coordinate (m) </td></tr>
    <tr><td class="paramname">Y</td><td>(float): Y global coordinate (m)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>state (float): FSM state for returning purpose </dd>
<dd>
HOME (float): Home flag for return home status </dd></dl>

</div>
</div>
<a id="aa7c91617139c610c6790ac53b66047bc" name="aa7c91617139c610c6790ac53b66047bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7c91617139c610c6790ac53b66047bc">&#9670;&#160;</a></span>check_sensor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">task_MOT.check_sensor </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>L2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>L1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>R1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>R2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>H</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the status from 6 line sensors determine what case for ROMI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L2</td><td>(float): far left line sensor reading </td></tr>
    <tr><td class="paramname">R2</td><td>(float): far right line sensor reading </td></tr>
    <tr><td class="paramname">L1</td><td>(float): close left line sensor reading </td></tr>
    <tr><td class="paramname">R1</td><td>(float): close right line sensor reading </td></tr>
    <tr><td class="paramname">M</td><td>(float): close middle line sensor reading </td></tr>
    <tr><td class="paramname">H</td><td>(float): far middle line sensor reading</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(string): case that ROMI DC motor need to run . </dd></dl>

</div>
</div>
<a id="aab03b2231c80d5bc00b333ed76e292ba" name="aab03b2231c80d5bc00b333ed76e292ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab03b2231c80d5bc00b333ed76e292ba">&#9670;&#160;</a></span>DC_speed_cal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">task_MOT.DC_speed_cal </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take the require yaw rate and linear speed then calculate angular speeds for both left and right wheels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">y</td><td>(float): require yaw rate (rad/s) </td></tr>
    <tr><td class="paramname">v</td><td>(float): require linear speed (m/s)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>wL (float): left wheel angular velocity (rad/s). </dd>
<dd>
wR (float): right wheel angular velocity (rad/s). </dd></dl>

</div>
</div>
<a id="a72a8b15d78f96f6eae57256cd59e4acf" name="a72a8b15d78f96f6eae57256cd59e4acf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a8b15d78f96f6eae57256cd59e4acf">&#9670;&#160;</a></span>update_speed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">task_MOT.update_speed </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>case</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read input case, then decide ROMI yaw rate and linear speed then run DC_speed_cal() function below to find angular speeds of both wheels For the scope of this project, ROMI will have only 19 case including: </p>
<pre class="fragment"> CASE                   DESCRIPTION

cross               reading the cross pattern    

90° turn            90° turn left or right

really hard turn    really hard turn left or right

hard turn           hard turn left or right

soft turn           soft turn left or right

straight            going foward

backup              going backward

explore             exploring mode

pivot               pivot left or right

wall                turn to stay away from the wall

stop                stop

done                done and celebrate by pivoting
</pre> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">case</td><td>(string): input case that ROMI need to run.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>wL (float): left wheel angular velocity (rad/s). </dd>
<dd>
wR (float): right wheel angular velocity (rad/s). </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
